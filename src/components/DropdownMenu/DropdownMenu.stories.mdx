import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Button, DropdownMenu } from "components";
import { useDropdownMenu } from "hooks";
import { useRef, useState } from "react";

<Meta
  title="Components/DropdownMenu"
  component={DropdownMenu}
  parameters={{
    badges: [BADGE.STABLE],
  }}
/>

export const Template = (args) => {
  const { open, anchorRef, handleToggle } = useDropdownMenu();
  return (
    <div>
      <Button
        color="primary"
        variant="contained"
        ref={anchorRef}
        onClick={handleToggle}
      >
        Open Menu
      </Button>
      <DropdownMenu
        anchorElement={anchorRef.current}
        open={open}
        onClose={handleToggle}
        position="left"
        {...args}
      />
    </div>
  );
};

# DropdownMenu Component

```
import { DropdownMenu } from 'components'
```

## Props

<ArgsTable of={DropdownMenu} />

## Use Dropdown Menu Hook

```
import { useDropdownMenu } from 'hooks'
```

```ts
export interface UseDropDownMenuReturn {
  open: boolean;
  anchorRef: MutableRefObject<HTMLButtonElement | null>;
  handleToggle: () => void;
  handleClose: (event?: MouseEvent) => void;
}
```

### React Nodes

<Canvas>
  <Story
    name="React Nodes"
    args={{
      items: (
        <div>
          <div>Menu Item 1</div>
          <div>Menu Item 2</div>
          <div>Menu Item 3</div>
        </div>
      ),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Contained Items

```ts
export interface DropdownMenuItem {
  id: string;
  name: string;
  slug: string;
  description?: string;
  onClick?: () => void;
}
```

<Canvas>
  <Story
    name="Contained Items"
    args={{
      items: [
        {
          id: "1",
          name: "Menu Item 1",
          slug: "menu-item-1",
          description: "This is a description",
          onClick: () => alert("clicked!"),
        },
        {
          id: "2",
          name: "Menu Item 2",
          slug: "menu-item-2",
          description: "This is a description",
          onClick: () => alert("clicked!"),
        },
        {
          id: "3",
          name: "Menu Item 3",
          slug: "menu-item-3",
          description: "This is a description",
          onClick: () => alert("clicked!"),
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
